<!doctype html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="widistillh=device-widistillh, initial-scale=1">
    <link rel="icon" type="image/svg+xml" href="/favicon.svg">
    <title>3. 加法合成</title> 

    <script src="template.v2.js"></script>
</head>

<body>    
    <distill-header></distill-header>
    <d-title>
        <h1>3. 加法合成</h1>
    </d-title>
<d-article>
    <p>
        加法合成器通过生成和修改一大量的分音——拥有不同的幅度、频率以及相位（有时）—— 并且将它们加起来得到最终的声音。
        加法合成器是一种最自然和最直接的合成方法，然后由于它需要大量的参数（所有的幅度、频率以及相位值等），因此不是那么常见。
        开发一种使用起来不乏味的加法合成器并不容易。
        与其他技术相比，加法合成器中对所有这些正弦波进行求和，带来的高计算成本也限制了它的可用性。
    </p>

    <h2>3.1 加法合成器的历史</h2>
    <p>
        由于加法合成器的原理简单，很容易成为最古老的音乐合成形式。
        如果我们放宽它的定义，允许将累加正弦波之外的其他行驶，它的历史可以追溯到更远的时间。
    </p>
    <p>
        管风琴制造商早就了解到，同时演奏多个管道对一个音符的影响，每个音符都有自己的一组分音，以产生最终的混合声音。 
        管风琴通常被组织为一组管道（或 stop ），每个音符一组，这可以产生具有特定音色的音符。 
        如 Figure-18 所示，stop 有许多不同的形状，由不同的材料制成，特别是钢和木头。
        特定种类的完整的一组 stop, 一个音符对应一组，被称为管风琴的级（ rank ） 。 
    </p>
    <p><d-figure><img src="images/figure_18.png" alt="Figure 18" width="30%" /></d-figure> </p>
    <p>
        高级的管风琴有许多的级（ rank ）。
        管风琴在演奏一个音符的时，为了从一个级中选择一个Stop，需要拔出类似拉杆或者旋钮的控制装置。
        通过拔出合适的拉杆，管风琴可以立刻为了同一个音符演奏许多级的声音；事实上一些 rank 设计上就是同时奏响多个同级的管道，用来响应单独一个音符的演奏（用管风琴的术语来说，这个概念叫做混合）。
        如果你想大力出奇迹，同时演奏所有 rank 的声音，只需要拔出所有拉杆：用管风琴的话说就是“ to pull out all the stops ”。
    </p>

    <p>
        早期的机电合成器大都是加法合成器，主要使用的是音调轮（或者其他类似的装置）。
        音调轮最初由 Hermann von Helmholtz 设计发明，后续由 Rudolf Koenig 进行改进（Figure-19），这是一种带齿的金属圆盘装或者鼓装的装置。
        音调轮旁边固定放置一电磁线圈，当音调轮匀速旋转的时候，金属轮边缘的齿状外缘（Figure-20）会反复靠近或者远离磁场，
        这会产生一个变化的感应电流，进而生成一个波动的电信号
        <d-footnote id="1">
            这个电磁感应的原理与电吉他中的拾音器类似。
        </d-footnote>。
        我们可以通过把单个的音调轮的声音混合起来，制作一个简单的加法合成器。
    </p>

    <p><d-figure><img src="images/figure_19.png" alt="Figure 19" width="30%" /></d-figure> </p>
    <p><d-figure><img src="images/figure_20.png" alt="Figure 20" width="30%" /></d-figure> </p>    
    <p>
        历史上第一个出名的音乐合成器，是由 Thaddeus Cahill 出品的电风琴（Telharmonium ），该款产品使用了累加音调轮的方法，因此可以算作一种加法合成器。
        这个电风琴的背后的想法是，一个演奏者可以产生一个歌曲的电信号，这个电信号可以通过立刻通过广播或者电话线传到广大的听众哪里。
        Figure-21 描述的就是 Telharmonium 当时的辉煌，包括左下角的音调轮。
    </p>
    <p><d-figure><img src="images/figure_21.png" alt="Figure 21" width="80%" /></d-figure> </p>    

    <p>
        音调轮后来也形成了 Hammond Organ 公司特有的声音生成装置（伴随着该公司著名的 Leslie 旋转式扬声器），原理上还是加法合成器。
        Hammond Organ 管风琴有九个拉杆，它们指定了九个特定分音的幅度，频率范围从低于基音一个八度到高于三个八度。 
        这些拉杆与产生最终声音的音调轮相连。
    </p>
    <p><d-figure><img src="images/figure_22.png" alt="Figure 22" width="30%" /></d-figure> </p>   
    <p>
        一直到了数字时代，才开始有更多的加法合成器方面的尝试。
        1974年，Rocky Mount Instruments（RMI）公司生产的 Harmonic 合成器，也是式采用数字振荡器的第一款加法合成的电子音乐合成器。
        贝尔实验室的数字合成器，也是完全的加法合成，这款数字合成器还是当时业界影响巨大的试验性的产品。
        Fairlight Qasar 公司的 M8 合成器通过生成分音幅度的数据，再通过反傅里叶变换来生成最后的声音（参考12章）。
        M8 这款产品最后也取得了很好的商业上的成功，但还是非常昂贵。
        新英格兰公司的 Digital Synclavier II 产品也带有加法合成功能，包括其他合成方法（采样，FM 合成），
        其中加法合成是给专业的音乐工作室使用的。
    </p>
    
    <p>
        在1980年代和1990年代，Kawai 是主要的加法合成器生产厂商。
        Kawai 公司的K3，K5，以及后续大幅改进的 K5000 系列，在音乐家之间广泛使用。
        从1990年代开始，加法合成方法开始淡出商业硬件合成器，越来越多的出现在了软件合成器当中。
        这些软件合成器包括有：AIR Music Technology 公司的 Loom，Native Instruments 公司的 Razor,
        Image-Line 公司的 Harmor, 以及 Camel Audio 公司（后被苹果公司收购）的 Alchemy 产品。
    </p>
    <p><d-figure><img src="images/figure_23.png" alt="Figure 23" width="30%" /></d-figure> </p>   

    <h2>3.2 加法合成器的流程 </h2>
    
    <p>
        在加法合成器中，每一个时间步下都会维护修改分音的阵列，一个阵列在合成组件内生成一个单独声音。
        声音合成组件通常通过将阵列中的每个分音交给相应的正弦波发生器来生成各自的音频样本，
        正弦波发生器通过正弦函数来生成某个分音下的音频数据。
        然后将所有分音下的样本值相加以产生最终音频样本。
    </p>
    <p><d-figure><img src="images/figure_24.png" alt="Figure 24" width="40%" /></d-figure> </p>
    <p>
        Figure-24 显示了一种可能的加法合成器实现流程图。这当然不是唯一的实现方法，但它包含许多常见元素的示例：
    </p>
    <li><b>分音生成器</b></li>
    <p>
        这是分音的数据来源，他可以是任何函数或者采样。
        例如，生成器可能会输出几个预设的分音数组之一，这些预设数组旨在产生特定的音调。
        分音生成器还可以随时间修改分音对应的阵列。
        比如，一个分音生成器可以生成128组不同的分音阵列，具体选用哪组分音阵列发声，可以交给外部的参数控制。
        这与稍后讨论的称为波表合成的技术密切相关。
    </p>

    <li><b>分音修正器</b></li>
    <p>
        这个组件主要获得分音的阵列之后，进行调整和修改，再传输出去。
        一种最简单的修正器只是将所有分音的幅值乘以一个常数，起到一个频域放大的作用，或者只修改某些指定频率的分音。
    </p>
    
    <p>
        另外一种常见的修正器是滤波器，通过滤波函数形状对分音乘以不同的系数，来调整分音的幅度形状，如 Figure-25 所示。
        除了常见的滤波器之外，滤波器函数的形状有很多种类型。
        举例来说，低通滤波器裁剪掉高于某个频率值的分音幅度，高通滤波器压制低频部分。Figure-25 中显示的是高通滤波器。
        还有带通滤波器，保留某个频率范围内的分音，裁剪掉范围之外的，陷波滤波器则执行相反的操作。
        加法合成中另一个常见的滤波器是共振峰滤波器，其中分音的幅度被整形以模拟人类声道的效果。
    </p>
    
    <p><d-figure><img src="images/figure_25.png" alt="Figure 25" width="80%" /></d-figure> </p>
    
    <p>
        在时域而非频域中工作的其他合成方法中，滤波器的实现可能很棘手：实际上，第 7 章的所有内容都讨论了这些类型的滤波器。 
        但是对于加法合成器，幸运的是比较简单，因为在频域中，滤波器只不过是一个操纵部分数组的函数。
    </p>

    <li><b>分音组合器</b></li>
    <p>
        分音组合器，将两个或者多个分音阵列合并为一个单独的分音的阵列。
        假如分音是谐波的，每个阵列都包含相同的频率成分，那么这个操作就是简单将不同的阵列按相同的频率相加即可，这是加法版本的混合。
        假如说分音阵列有指定的频率成分，那么需要重新生一个新的相同大小的阵列，这时候需要一些技巧性的方法来压制频率。
        举例来说，你可以把所有频率排列在一起，然后去除最高的频率部分，确保分音阵列大小不变。
    </p>

    <li><b>分音调制器</b></li>
    <p>
        在这个组件中，分音发生器、修正器和组合器的参数可以通过自动或音乐家手动的调制过程进行实时更改。 
        调制信号通常从-1变化到1，或者可能从0变化到1。
        调制器不仅可以用于改变上述模块的参数，还可以用于改变其他调制器的参数。 
        两种常见的自动调制器是：
    </p>
    <p>
        <b>低频振荡器：</b> 让信号以音乐家指定的特定速率上下波动
    </p>
    <p>
        <b>封调器：</b> 按下键后，封调会随时间改变信号。 
        例如，在 ADSR 封调中，当您按下一个音符时，包络开始在一个起音时间的过程中从 0 上升到某个起音电平。
        当它达到起音电平时，它开始在衰减时间的过程中下降到某个维持水平。 
        当它达到延音电平时，它会一直停留在那里，直到您释放琴键，此时它会在释放时间的过程中开始衰减到零。 
        在演奏的时候，音乐家会指定这些值的大小。
    </p>
    
    <p>
        调制对于制作逼真的声音绝对至关重要。试想一下，当有人演奏小号之类的乐器时，我们通常会先听到一阵响亮而粗暴的喇叭声，然后逐渐减弱为柔和的音调。
        这里发生了两件事。首先，喇叭开始响亮，然后音量迅速下降。
        其次，小号以大量的高频泛音开始，给人一种刺耳而嗡嗡的声音，然后迅速减少到只有低频泛音，从而使音调变得圆润。
        如果我们想模拟这一点，我们会使用调制程序，当播放一个音符时，声音会变大，可能会打开一个低通滤波器以允许更高的谐波通过，然后很快就会使声音变得安静并关闭很多滤波器（切除高次谐波）。
        这种调制过程需要一个或多个封调。
        同样，如果我们希望添加振音（快速上下移动音量）或颤音（快速上下移动音高）或其他振荡效果，我们可以使用 LFO。
    </p>

    <p>
        其他调制功能包括：琶音和序列器，我们会在第四章覆盖更多的细节。
    </p>

    <h2>3.3 加法合成器的流程 </h2>



</d-article>

<d-appendix> 
    <d-footnote-list></d-footnote-list>    
    <d-citation-list></d-citation-list>       
</d-appendix>

<distill-footer></distill-footer>

</body>